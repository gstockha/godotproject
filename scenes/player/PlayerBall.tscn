[gd_scene load_steps=9 format=2]

[ext_resource path="res://scripts/playerCam.gd" type="Script" id=1]
[ext_resource path="res://assets/ballSkin.obj" type="ArrayMesh" id=2]
[ext_resource path="res://scripts/basicPlayer.cs" type="Script" id=3]
[ext_resource path="res://scripts/shadowCast.gd" type="Script" id=4]

[sub_resource type="SphereShape" id=2]

[sub_resource type="SphereMesh" id=17]

[sub_resource type="SphereShape" id=3]

[sub_resource type="BoxShape" id=18]

[node name="PlayerBall" type="KinematicBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 76.523, 43.104, -147.733 )
collision_layer = 2
collision_mask = 3
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0 )
shape = SubResource( 2 )

[node name="BallSkin" type="MeshInstance" parent="CollisionShape"]
transform = Transform( 0.21, 0, 0, 0, 0.21, 0, 0, 0, 0.21, 0, 0, 0 )
layers = 2
cast_shadow = 0
generate_lightmap = false
mesh = ExtResource( 2 )
material/0 = null
material/1 = null

[node name="Position3D" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 0.939693, 0.34202, 0, -0.34202, 0.939693, 0, 0, 0 )

[node name="playerCam" type="Camera" parent="Position3D"]
transform = Transform( 1, 0, 0, 0, 0.984808, 0.173648, 0, -0.173648, 0.984808, 0, 5, 25 )
current = true
fov = 45.0
size = 20.0
far = 500.0
script = ExtResource( 1 )

[node name="setDelay" type="Timer" parent="Position3D/playerCam"]
one_shot = true

[node name="floorCast" type="RayCast" parent="."]
enabled = true

[node name="leewayCast" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 0 )
enabled = true

[node name="directionCast" type="RayCast" parent="."]
enabled = true
cast_to = Vector3( 0, 0, -1 )

[node name="shadowCast" type="RayCast" parent="."]
transform = Transform( 1, 0, 0, 0, 15, 0, 0, 0, 1, 0, 0, 0 )
enabled = true
script = ExtResource( 4 )

[node name="shadowSkin" type="MeshInstance" parent="shadowCast"]
transform = Transform( 0.7, 0, 0, 0, 0.04, 0, 0, 0, 0.7, 0, 0, 0 )
layers = 0
cast_shadow = 3
generate_lightmap = false
mesh = SubResource( 17 )
material/0 = null

[node name="hitBox" type="Area" parent="."]
collision_layer = 6
collision_mask = 3

[node name="CollisionShape" type="CollisionShape" parent="hitBox"]
transform = Transform( 0.65, 0, 0, 0, 0.65, 0, 0, 0, 0.65, 0, 0, 0 )
shape = SubResource( 3 )

[node name="deathTimer" type="Timer" parent="hitBox"]

[node name="DashTimer" type="Timer" parent="."]
process_mode = 0
one_shot = true

[node name="boingTimer" type="Timer" parent="."]
process_mode = 0
one_shot = true

[node name="preBoingTimer" type="Timer" parent="."]
process_mode = 0
one_shot = true

[node name="lockOnScanner" type="Area" parent="."]
collision_layer = 6
collision_mask = 0
monitorable = false

[node name="scanBody" type="CollisionShape" parent="lockOnScanner"]
transform = Transform( 25, 0, 0, 0, 7.5, 0, 0, 0, 25, 0, 2.5, -7 )
shape = SubResource( 18 )

[connection signal="area_entered" from="hitBox" to="." method="_on_hitBox_area_entered"]
[connection signal="area_exited" from="hitBox" to="." method="_on_hitBox_area_exited"]
[connection signal="timeout" from="hitBox/deathTimer" to="." method="_on_deathTimer_timeout"]
[connection signal="timeout" from="DashTimer" to="." method="_on_DashTimer_timeout"]
[connection signal="timeout" from="boingTimer" to="." method="_on_boingTimer_timeout"]
[connection signal="timeout" from="preBoingTimer" to="." method="_on_preBoingTimer_timeout"]
